<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Let Me Cook</title>
  <style>
    /* Einfache Stile zur Gestaltung */
    .container { width: 500px; margin: 0 auto; text-align: center; }
    h1 { font-size: 24px; }
    .customers, .workstations, .tray-container, .items-container { margin: 15px 0; }
    .customer, .station, .tray, .item { border: 1px solid #444; padding: 10px; margin: 5px; border-radius: 5px; display: inline-block; }
    .tray { width: 70%; height: 80px; background-color: #eee; }
    .btn { display: block; margin: 10px auto; padding: 5px 10px; }
    .station { width: 50px; height: 50px; border-radius: 50%; }
    .warmer { background-color: #f5f5dc; }
    .stove, .fryer { background-color: #d3d3d3; }
    .item { cursor: grab; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Let Me Cook</h1>

    <!-- Kundenanzeige -->
    <div class="customers">
      <div class="customer" id="customer1" data-order="Pommes Spezial">Kunde 1</div>
      <div class="customer" id="customer2" data-order="Hamburger">Kunde 2</div>
      <div class="customer" id="customer3" data-order="Hotdog">Kunde 3</div>
    </div>

    <!-- Speisewärmer und Geräte in einer Zeile -->
    <div class="workstations">
      <div class="station warmer" id="warmer1" ondrop="dropWarmer(event)" ondragover="allowDrop(event)"></div>
      <div class="station warmer" id="warmer2" ondrop="dropWarmer(event)" ondragover="allowDrop(event)"></div>
      <div class="station warmer" id="warmer3" ondrop="dropWarmer(event)" ondragover="allowDrop(event)"></div>
      <div class="station stove" id="stove1" ondrop="dropStove(event)" ondragover="allowDrop(event)"></div>
      <div class="station stove" id="stove2" ondrop="dropStove(event)" ondragover="allowDrop(event)"></div>
      <div class="station fryer" id="fryer" ondrop="dropFryer(event)" ondragover="allowDrop(event)"></div>
    </div>

    <!-- Tablett für Zubereitung -->
    <div class="tray-container">
      <div class="tray" id="tray" ondrop="dropTray(event)" ondragover="allowDrop(event)">
        <p>Tablett</p>
      </div>
      <button class="btn" onclick="prepareDish()">Zubereiten</button>
    </div>

    <!-- Zutaten, nur einmal angezeigt -->
    <div class="items-container">
      <div class="item" id="pommes" draggable="true" ondragstart="drag(event)">Pommes</div>
      <div class="item" id="mayonnaise" draggable="true" ondragstart="drag(event)">Mayonnaise</div>
      <div class="item" id="ketchup" draggable="true" ondragstart="drag(event)">Ketchup</div>
      <div class="item" id="zwiebeln" draggable="true" ondragstart="drag(event)">Zwiebeln</div>
      <div class="item" id="wurst" draggable="true" ondragstart="drag(event)">Wurst</div>
      <div class="item" id="currysauce" draggable="true" ondragstart="drag(event)">Currysauce</div>
      <div class="item" id="burger_broetchen" draggable="true" ondragstart="drag(event)">Burgerbrötchen</div>
      <div class="item" id="rindfleisch_patty" draggable="true" ondragstart="drag(event)">Rindfleisch Patty</div>
      <div class="item" id="salat" draggable="true" ondragstart="drag(event)">Salat</div>
      <div class="item" id="tomate" draggable="true" ondragstart="drag(event)">Tomate</div>
      <div class="item" id="gemuese_patty" draggable="true" ondragstart="drag(event)">Gemüse Patty</div>
      <div class="item" id="kaese" draggable="true" ondragstart="drag(event)">Käse</div>
      <div class="item" id="gurke" draggable="true" ondragstart="drag(event)">Gurke</div>
      <div class="item" id="hotdog_broetchen" draggable="true" ondragstart="drag(event)">Hotdog Brötchen</div>
      <div class="item" id="mais" draggable="true" ondragstart="drag(event)">Mais</div>
    </div>

  </div>

<script>
  function allowDrop(event) {
    event.preventDefault();
  }

  function drag(event) {
    event.dataTransfer.setData("text", event.target.id);
  }

  function dropStove(event) {
    event.preventDefault();
    let itemId = event.dataTransfer.getData("text");
    if ((itemId === "rindfleisch_patty" || itemId === "gemuese_patty" || itemId === "wurst") && !itemId.endsWith("_fertig")) {
      prepareOnStoveOrFryer(event, itemId);
    }
  }

  function dropFryer(event) {
    event.preventDefault();
    let itemId = event.dataTransfer.getData("text");
    if (itemId === "pommes" && !itemId.endsWith("_fertig")) {
      prepareOnStoveOrFryer(event, itemId);
    }
  }

  function dropWarmer(event) {
    event.preventDefault();
    let itemId = event.dataTransfer.getData("text");
    if (itemId.endsWith("_fertig")) {
      event.target.appendChild(document.getElementById(itemId));
    }
  }

  function dropTray(event) {
    event.preventDefault();
    let itemId = event.dataTransfer.getData("text");
    if (itemId.endsWith("_fertig")) {
      event.target.appendChild(document.getElementById(itemId));
    }
  }

  function prepareOnStoveOrFryer(event, itemId) {
    let itemElement = document.getElementById(itemId);
    setTimeout(() => {
      let finishedItemId = itemId + "_fertig";
      let finishedItem = itemElement.cloneNode(true);
      finishedItem.id = finishedItemId;
      finishedItem.innerHTML += " (fertig)";
      finishedItem.draggable = true;
      finishedItem.ondragstart = drag;
      event.target.appendChild(finishedItem);

      // Freigeben des Platzes für neue Zutat
      itemElement.remove();
    }, 5000);
  }

  function prepareDish() {
    // Beispiel-Zubereitungsfunktion für das Gericht auf dem Tablett
    let tray = document.getElementById("tray");
    let dish = Array.from(tray.children).map(item => item.id).join(", ");
    alert("Zubereitetes Gericht: " + dish);
    tray.innerHTML = "<p>Tablett</p>";
  }
</script>
</body>
</html>
