<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let Me Cook</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f8f8;
            font-family: Arial, sans-serif;
            margin: 0;
        }
        #container {
            width: 500px;
            border: 2px solid #ccc;
            padding: 10px;
            background-color: #fff;
            text-align: center;
        }
        h1 {
            margin: 10px 0;
        }
        .customer {
            width: 150px;
            height: 100px;
            background-image: url('customer.png');
            background-size: cover;
            margin: 10px auto;
            position: relative;
        }
        .customer-name, .customer-order {
            position: absolute;
            bottom: 5px;
            left: 5px;
            color: white;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.5);
            padding: 2px;
        }
        .speisewarmers, .herdplatten, .friteuse {
            display: flex;
            justify-content: space-around;
            margin: 10px 0;
        }
        .container-item {
            width: 60px;
            height: 60px;
            background-color: #ccc;
            border: 1px solid #999;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            cursor: grab;
        }
        .tablett {
            width: 100%;
            height: 80px;
            border: 2px solid #000;
            margin: 10px 0;
            position: relative;
        }
        .mulleimer {
            background-color: red;
            color: white;
            cursor: pointer;
            padding: 5px;
            margin: 10px 0;
        }
        .zutaten {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        .zutat {
            width: 60px;
            height: 60px;
            background-color: #ccc;
            border: 1px solid #999;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: grab;
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>Let Me Cook</h1>
        <div id="customers"></div>
        <div class="speisewarmers">
            <div class="container-item" draggable="false">Speisewärmer 1</div>
            <div class="container-item" draggable="false">Speisewärmer 2</div>
            <div class="container-item" draggable="false">Speisewärmer 3</div>
        </div>
        <div class="herdplatten">
            <div class="container-item" draggable="false">Herdplatte 1</div>
            <div class="container-item" draggable="false">Herdplatte 2</div>
        </div>
        <div class="friteuse">
            <div class="container-item" draggable="false">Friteuse</div>
        </div>
        <div class="tablett" id="tablett"></div>
        <div class="mulleimer" id="mulleimer">Mülleimer</div>
        <div class="zutaten" id="zutaten"></div>
        <button id="zubereiten">Zubereiten</button>
    </div>
    
    <script>
        const rezepte = {
            "Pommes Spezial": ["pommes", "mayonnaise", "ketchup", "zwiebeln"],
            "Currywurst mit Pommes": ["wurst", "currysauce", "pommes"],
            "Hamburger": ["burger_broetchen", "rindfleisch_patty", "salat", "tomate", "zwiebeln", "ketchup"],
            "Veggie Burger": ["burger_broetchen", "gemuese_patty", "salat", "tomate", "zwiebeln", "mayonnaise"],
            "Pommes mit Käse": ["pommes", "kaese", "gurke"],
            "Hotdog": ["wurst", "hotdog_broetchen", "gurke", "ketchup"],
            "Mischsalat": ["salat", "tomate", "gurke", "mais"]
        };

        const zutatenNamen = [
            "pommes", "mayonnaise", "ketchup", "zwiebeln", "wurst",
            "currysauce", "burger_broetchen", "rindfleisch_patty", "salat",
            "tomate", "gemuese_patty", "kaese", "gurke", "hotdog_broetchen", "mais"
        ];

        const customers = [
            { name: "Kunde 1", order: getRandomOrder() },
            { name: "Kunde 2", order: getRandomOrder() },
            { name: "Kunde 3", order: getRandomOrder() }
        ];

        function getRandomOrder() {
            const keys = Object.keys(rezepte);
            return keys[Math.floor(Math.random() * keys.length)];
        }

        function showCustomers() {
            const customersDiv = document.getElementById("customers");
            customersDiv.innerHTML = "";
            customers.forEach(customer => {
                const customerDiv = document.createElement("div");
                customerDiv.className = "customer";
                customerDiv.innerHTML = `
                    <div class="customer-name">${customer.name}</div>
                    <div class="customer-order">${customer.order}</div>
                `;
                customersDiv.appendChild(customerDiv);
            });
        }

        function showZutaten() {
            const zutatenDiv = document.getElementById("zutaten");
            zutatenDiv.innerHTML = "";
            zutatenNamen.forEach(zutat => {
                const zutatDiv = document.createElement("div");
                zutatDiv.className = "zutat";
                zutatDiv.draggable = true;
                zutatDiv.innerText = zutat;
                zutatDiv.addEventListener("dragstart", (e) => {
                    e.dataTransfer.setData("text/plain", zutat);
                });
                zutatenDiv.appendChild(zutatDiv);
            });
        }

        document.getElementById("tablett").addEventListener("dragover", (e) => {
            e.preventDefault();
        });

        document.getElementById("tablett").addEventListener("drop", (e) => {
            const zutat = e.dataTransfer.getData("text/plain");
            const tablettDiv = document.getElementById("tablett");
            const zutatDiv = document.createElement("div");
            zutatDiv.innerText = zutat;
            zutatDiv.className = "zutat";
            tablettDiv.appendChild(zutatDiv);
        });

        document.getElementById("mulleimer").addEventListener("click", () => {
            const tablettDiv = document.getElementById("tablett");
            tablettDiv.innerHTML = "";
        });

        document.getElementById("zubereiten").addEventListener("click", () => {
            const tablettDiv = document.getElementById("tablett");
            const zutatenAufTablett = Array.from(tablettDiv.children).map(child => child.innerText);
            const passendesRezept = Object.keys(rezepte).find(rezept => {
                const rezeptZutaten = rezepte[rezept];
                return rezeptZutaten.every(zutat => zutatenAufTablett.includes(zutat));
            });
            if (passendesRezept) {
                tablettDiv.innerHTML = "";
                const gerichtDiv = document.createElement("div");
                gerichtDiv.innerText = passendesRezept;
                gerichtDiv.className = "zutat";
                tablettDiv.appendChild(gerichtDiv);
            } else {
                alert("Keine passende Bestellung gefunden!");
            }
        });

        showCustomers();
        showZutaten();
    </script>
</body>
</html>
