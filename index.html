<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let Me Cook - Kochspiel</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
        }
        
        h1 {
            margin-top: 20px;
        }
        
        .customer-container, .kitchen-container, .ingredients-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .customer {
            width: 150px;
            height: 200px;
            background-image: url('customer.png');
            background-size: cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            padding: 10px;
            border-radius: 10px;
        }
        
        .customer-name {
            font-weight: bold;
            font-size: 16px;
        }
        
        .customer-order {
            font-size: 14px;
        }

        .kitchen-box {
            width: 100px;
            height: 100px;
            background-color: lightgray;
            border: 2px dashed #888;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }

        .tray {
            width: 300px;
            height: 200px;
            background-color: lightgray;
            border: 2px dashed #888;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            margin-top: 20px;
        }

        .ingredient {
            width: 80px;
            height: 80px;
            background-color: lightblue;
            margin: 5px;
            border-radius: 5px;
            text-align: center;
            line-height: 80px;
            cursor: pointer;
            position: relative;
        }

        #mullcontainer {
            width: 100px;
            height: 100px;
            background-color: red;
            border-radius: 10px;
            margin-top: 20px;
            cursor: pointer;
            display: inline-block;
        }

        #mullcontainer p {
            margin-top: 30px;
            color: white;
            font-size: 14px;
            text-align: center;
        }

        #zubereiten {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .button-container {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Let Me Cook</h1>

    <!-- Kundenbereich -->
    <div id="customer-section" class="customer-container">
        <!-- 3 zuf√§llige Kunden werden hier angezeigt -->
    </div>

    <!-- K√ºchenbereich -->
    <div class="kitchen-container">
        <div class="kitchen-box" id="speisewaermer1">Speisew√§rmer</div>
        <div class="kitchen-box" id="speisewaermer2">Speisew√§rmer</div>
        <div class="kitchen-box" id="speisewaermer3">Speisew√§rmer</div>
        <div class="kitchen-box" id="herdplatte1">Herdplatte</div>
        <div class="kitchen-box" id="herdplatte2">Herdplatte</div>
        <div class="kitchen-box" id="friteuse">Friteuse</div>
    </div>

    <!-- Tablett -->
    <div class="tray" id="tray" ondrop="drop(event)" ondragover="allowDrop(event)">
        <p>Leeres Tablett - Zutaten hier ablegen</p>
    </div>

    <!-- Zutatenbereich -->
    <div class="ingredients-container" id="ingredients-container">
        <!-- Zutaten werden hier angezeigt -->
    </div>

    <!-- M√ºllcontainer -->
    <div id="mullcontainer" ondrop="dropMuell(event)" ondragover="allowDrop(event)">
        <p>üí• M√ºlleimer</p>
    </div>

    <!-- Zubereiten-Button -->
    <div class="button-container">
        <button id="zubereiten" onclick="prepareDish()">Zubereiten</button>
    </div>

    <script>
        const ingredients = [
            { name: 'Pommes', img: 'pommes.png' },
            { name: 'Mayonnaise', img: 'mayonnaise.png' },
            { name: 'Ketchup', img: 'ketchup.png' },
            { name: 'Zwiebeln', img: 'zwiebeln.png' },
            { name: 'Wurst', img: 'wurst.png' },
            { name: 'Currysauce', img: 'currysauce.png' },
            { name: 'Burger Br√∂tchen', img: 'burger_broetchen.png' },
            { name: 'Rindfleisch Patty', img: 'rindfleisch_patty.png' },
            { name: 'Salat', img: 'salat.png' },
            { name: 'Tomate', img: 'tomate.png' },
            { name: 'Gem√ºse Patty', img: 'gemuese_patty.png' },
            { name: 'K√§se', img: 'kaese.png' },
            { name: 'Gurke', img: 'gurke.png' },
            { name: 'Hotdog Br√∂tchen', img: 'hotdog_broetchen.png' },
            { name: 'Mais', img: 'mais.png' }
        ];

        const recipes = {
            'Pommes Spezial': ['Pommes', 'Pommes', 'Pommes', 'Mayonnaise', 'Ketchup', 'Zwiebeln'],
            'Currywurst mit Pommes': ['Wurst', 'Currysauce', 'Pommes'],
            'Hamburger': ['Burger Br√∂tchen', 'Rindfleisch Patty', 'Salat', 'Tomate', 'Zwiebeln', 'Ketchup'],
            'Veggie Burger': ['Burger Br√∂tchen', 'Gem√ºse Patty', 'Salat', 'Tomate', 'Zwiebeln', 'Mayonnaise'],
            'Pommes mit K√§se': ['Pommes', 'Pommes', 'K√§se', 'Gurke'],
            'Hotdog': ['Wurst', 'Hotdog Br√∂tchen', 'Gurke', 'Ketchup'],
            'Mischsalat': ['Salat', 'Tomate', 'Gurke', 'Mais']
        };

        // Kunden zuf√§llig generieren
        function generateCustomer() {
            const customerNames = ['Max', 'Anna', 'Ben', 'Clara', 'Peter', 'Lena'];
            const orders = Object.keys(recipes);
            const randomName = customerNames[Math.floor(Math.random() * customerNames.length)];
            const randomOrder = orders[Math.floor(Math.random() * orders.length)];

            const customerDiv = document.createElement('div');
            customerDiv.className = 'customer';
            customerDiv.innerHTML = `
                <div class="customer-name">${randomName}</div>
                <div class="customer-order">${randomOrder}</div>
            `;
            document.getElementById('customer-section').appendChild(customerDiv);
        }

        // Zutaten in den Zutatenbereich hinzuf√ºgen
        function displayIngredients() {
            const container = document.getElementById('ingredients-container');
            ingredients.forEach(ingredient => {
                const ingredientDiv = document.createElement('div');
                ingredientDiv.className = 'ingredient';
                ingredientDiv.id = ingredient.name;
                ingredientDiv.draggable = true;
                ingredientDiv.ondragstart = function (event) {
                    event.dataTransfer.setData("text", event.target.id);
                };
                ingredientDiv.style.backgroundImage = `url(${ingredient.img})`;
                ingredientDiv.style.backgroundSize = 'cover';
                container.appendChild(ingredientDiv);
            });
        }

        // Drop-Zonen erlauben
        function allowDrop(event) {
            event.preventDefault();
        }

        // Zutaten auf das Tablett ablegen
        function drop(event) {
            event.preventDefault();
            const data = event.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            if (event.target.id === 'tray' && draggedElement) {
                event.target.appendChild(draggedElement);
            }
        }

        // Gericht zubereiten
        function prepareDish() {
            const tray = document.getElementById('tray');
            const ingredientsInTray = Array.from(tray.children).map(item => item.id);
            let matchedRecipe = null;

            for (const [dish, recipe] of Object.entries(recipes)) {
                if (JSON.stringify(ingredientsInTray.sort()) === JSON.stringify(recipe.sort())) {
                    matchedRecipe = dish;
                    break;
                }
            }

            if (matchedRecipe) {
                alert('Gericht: ' + matchedRecipe);
                tray.innerHTML = `<p>${matchedRecipe}</p>`; // Zeigt das Gericht an
            } else {
                alert('Rezept passt nicht!');
            }
        }

        // M√ºlleimer-Logik
        function dropMuell(event) {
            event.preventDefault();
            const data = event.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            if (draggedElement) {
                draggedElement.remove();
            }
        }

        // Initialisierung
        window.onload = function () {
            generateCustomer();
            generateCustomer();
            generateCustomer();
            displayIngredients();
        }
    </script>
</body>
</html>
